var zvatcontent=" ";var zvatfiletype=" ";var zvatfilename=" ";var Zcr_content=" ";var Zcr_type=" ";var Zcr=" ";var Zid_content=" ";var Zid_type=" ";var Zid=" ";var Zsl_content=" ";var Zsl_type=" ";var Zsl=" ";var zcustomerid=" ";var zorderid=" ";sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/core/Fragment","sap/ui/model/Filter","sap/m/MessagePopover","sap/m/MessageBox","sap/m/MessagePopoverItem","sap/ui/model/FilterOperator","sap/m/MessageToast"],function(e,t,a,s,i,r,n,o){"use strict";return e.extend("mosque.zsd1.controller.CustomerAtt",{onInit:function(){},handleLiveChange:function(e){var t=e.getSource(),a=t.getValue().length,s=t.getMaxLength(),i=a>s?"Warning":"None";t.setValueState(i)},onSubmit:function(){zorderid=this.getView().byId("idTemp").getValue();var e=this;var t=e.getOwnerComponent().getModel();sap.m.MessageToast.show("PLEASE WAIT WHILE THE DATA LOADS");var a="/attachmentsSet('"+zorderid+"')";t.read(a,{success:function(t,a){debugger;var s=new sap.ui.model.json.JSONModel(t);var i=e.getView().byId("idCustomerDetails");i.setModel(s);if(s.oData.zimage1_content!==""){e.zvatcontent=s.oData.zimage1_content;zvatcontent=s.oData.zimage1_content;e.zvatfiletype=s.oData.zimage_type;zvatfiletype=s.oData.zimage_type;zvatfilename=s.oData.zimage1_content;e.getView().byId("idImage1Btn").setText(s.oData.zimage1_content);e.getView().byId("idImage1Btn").setType("Accept")}else{e.getView().byId("idImage1Btn").setVisible(true);e.getView().byId("idImage1Btn").setText("NO FILE UPLOADED");e.getView().byId("idImage1Btn").setType("Reject")}if(s.oData.zimage2_content!==""){e.Zcr_content=s.oData.zimage2_content;Zcr_content=s.oData.zimage2_content;e.Zcr_type=s.oData.zimage2_type;Zcr_type=s.oData.zimage2_type;Zcr=s.oData.zimage2_content;e.getView().byId("idImage2Btn").setType("Accept");e.getView().byId("idImage2Btn").setText(s.oData.zimage2_content)}else{e.getView().byId("idImage2Btn").setVisible(true);e.getView().byId("idImage2Btn").setText("NO FILE UPLOADED");e.getView().byId("idImage2Btn").setType("Reject")}if(s.oData.zimage3_content!==""){e.Zid_content=s.oData.zimage3_content;Zid_content=s.oData.zimage3_content;e.Zid_type=s.oData.zimage3_type;Zid_type=s.oData.zimage3_content;Zid=s.oData.zimage3_content;e.getView().byId("idImage3Btn").setType("Accept");e.getView().byId("idImage3Btn").setText(s.oData.zimage3_content)}else{e.getView().byId("idImage3Btn").setVisible(true);e.getView().byId("idImage3Btn").setText("NO FILE UPLOADED");e.getView().byId("idImage3Btn").setType("Reject")}if(s.oData.zimage4_content!==""){e.Zsl_content=s.oData.zimage4_content;Zsl_content=s.oData.zimage4_content;e.Zsl_type=s.oData.zimage4_type;Zsl_type=s.oData.zimage4_type;Zsl=s.oData.zimage4_content;e.getView().byId("idImage4Btn").setType("Accept");e.getView().byId("idImage4Btn").setText(s.oData.zimage4_content)}else{e.getView().byId("idImage4Btn").setVisible(true);e.getView().byId("idImage4Btn").setText("NO FILE UPLOADED");e.getView().byId("idImage4Btn").setType("Reject")}},error:function(e,t){sap.m.MessageToast.show("No Data retreived")}})},openImage1File:function(e){debugger;var t="1";var a=this.getView().byId("idTemp").getValue();if(t!==""){var s=this;var i=s.getOwnerComponent().getModel();var r="/attachmentsContentSet(vbeln="+"'"+a+"'"+",Ztype="+"'"+t+"'"+")";sap.m.MessageToast.show("PLEASE WAIT WHILE THE FILE OPENS");i.read(r,{success:function(e,t){var a=e.Content;var i="image/jpeg";var r="test.jpg";a="data:"+i+";base64,"+a;if(!s.displayContent){s.displayContent=sap.ui.xmlfragment("mosque.zsd1.fragments.filepreview",s);s.getView().addDependent(s.displayContent)}var n="image";var o="jpg";switch(n){case"image":sap.ui.getCore().byId("idPdfViewer").setVisible(false);sap.ui.getCore().byId("image").setVisible(true);sap.ui.getCore().byId("image").setSrc(a);break;default:sap.ui.getCore().byId("idPdfViewer").setVisible(true);sap.ui.getCore().byId("image").setVisible(false);var d=sap.ui.getCore().byId("idPdfViewer");d.setContent('<iframe src="'+a+'" embedded="true" frameborder="0" target="_top" width="2000px" height="2000px"></iframe>');break}debugger;if(o!=="docx"&&o!=="pub"&&o!=="xls"&&o!=="ppt"&&o!=="doc"&&o!=="xlsx"){s.displayContent.open();s.fragOpen=true}if(s.fragOpen===undefined){window.open(a,"_self");a=a.replace("data:APPLICATION/WWI;base64,","")}},error:function(){sap.m.MessageToast.show("No Data retreived")}})}},openImage2File:function(e){debugger;var t="2";var a=this.getView().byId("idTemp").getValue();if(t!==""){var s=this;var i=s.getOwnerComponent().getModel();var r="/attachmentsContentSet(vbeln="+"'"+a+"'"+",Ztype="+"'"+t+"'"+")";sap.m.MessageToast.show("PLEASE WAIT WHILE THE FILE OPENS");i.read(r,{success:function(e,t){var a=e.Content;var i="image/jpeg";var r="test.jpg";a="data:"+i+";base64,"+a;if(!s.displayContent){s.displayContent=sap.ui.xmlfragment("mosque.zsd1.fragments.filepreview",s);s.getView().addDependent(s.displayContent)}var n="image";var o="jpg";switch(n){case"image":sap.ui.getCore().byId("idPdfViewer").setVisible(false);sap.ui.getCore().byId("image").setVisible(true);sap.ui.getCore().byId("image").setSrc(a);break;default:sap.ui.getCore().byId("idPdfViewer").setVisible(true);sap.ui.getCore().byId("image").setVisible(false);var d=sap.ui.getCore().byId("idPdfViewer");d.setContent('<iframe src="'+a+'" embedded="true" frameborder="0" target="_top" width="2000px" height="2000px"></iframe>');break}debugger;if(o!=="docx"&&o!=="pub"&&o!=="xls"&&o!=="ppt"&&o!=="doc"&&o!=="xlsx"){s.displayContent.open();s.fragOpen=true}if(s.fragOpen===undefined){window.open(a,"_self");a=a.replace("data:APPLICATION/WWI;base64,","")}},error:function(){sap.m.MessageToast.show("No Data retreived")}})}},openImage4File:function(e){debugger;var t="4";var a=this.getView().byId("idTemp").getValue();if(t!==""){var s=this;var i=s.getOwnerComponent().getModel();var r="/attachmentsContentSet(vbeln="+"'"+a+"'"+",Ztype="+"'"+t+"'"+")";sap.m.MessageToast.show("PLEASE WAIT WHILE THE FILE OPENS");i.read(r,{success:function(e,t){var a=e.Content;var i="image/jpeg";var r="test.jpg";a="data:"+i+";base64,"+a;if(!s.displayContent){s.displayContent=sap.ui.xmlfragment("mosque.zsd1.fragments.filepreview",s);s.getView().addDependent(s.displayContent)}var n="image";var o="jpg";switch(n){case"image":sap.ui.getCore().byId("idPdfViewer").setVisible(false);sap.ui.getCore().byId("image").setVisible(true);sap.ui.getCore().byId("image").setSrc(a);break;default:sap.ui.getCore().byId("idPdfViewer").setVisible(true);sap.ui.getCore().byId("image").setVisible(false);var d=sap.ui.getCore().byId("idPdfViewer");d.setContent('<iframe src="'+a+'" embedded="true" frameborder="0" target="_top" width="2000px" height="2000px"></iframe>');break}debugger;if(o!=="docx"&&o!=="pub"&&o!=="xls"&&o!=="ppt"&&o!=="doc"&&o!=="xlsx"){s.displayContent.open();s.fragOpen=true}if(s.fragOpen===undefined){window.open(a,"_self");a=a.replace("data:APPLICATION/WWI;base64,","")}},error:function(){sap.m.MessageToast.show("No Data retreived")}})}},openImage3File:function(e){debugger;var t="3";var a=this.getView().byId("idTemp").getValue();if(t!==""){var s=this;var i=s.getOwnerComponent().getModel();var r="/attachmentsContentSet(vbeln="+"'"+a+"'"+",Ztype="+"'"+t+"'"+")";sap.m.MessageToast.show("PLEASE WAIT WHILE THE FILE OPENS");i.read(r,{success:function(e,t){var a=e.Content;var i="image/jpeg";var r="test.jpg";a="data:"+i+";base64,"+a;if(!s.displayContent){s.displayContent=sap.ui.xmlfragment("mosque.zsd1.fragments.filepreview",s);s.getView().addDependent(s.displayContent)}var n="image";var o="jpg";switch(n){case"image":sap.ui.getCore().byId("idPdfViewer").setVisible(false);sap.ui.getCore().byId("image").setVisible(true);sap.ui.getCore().byId("image").setSrc(a);break;default:sap.ui.getCore().byId("idPdfViewer").setVisible(true);sap.ui.getCore().byId("image").setVisible(false);var d=sap.ui.getCore().byId("idPdfViewer");d.setContent('<iframe src="'+a+'" embedded="true" frameborder="0" target="_top" width="2000px" height="2000px"></iframe>');break}debugger;if(o!=="docx"&&o!=="pub"&&o!=="xls"&&o!=="ppt"&&o!=="doc"&&o!=="xlsx"){s.displayContent.open();s.fragOpen=true}if(s.fragOpen===undefined){window.open(a,"_self");a=a.replace("data:APPLICATION/WWI;base64,","")}},error:function(){sap.m.MessageToast.show("No Data retreived")}})}},openLicenseFile:function(e){debugger;var t="LICENSE";var a=this.getView().byId("idTemp").getValue();if(t!==""){var s=this;var i=s.getOwnerComponent().getModel();var r="/attachmentsContentSet(Ztempid="+"'"+a+"'"+",Ztype="+"'"+t+"'"+")";sap.m.MessageToast.show("PLEASE WAIT WHILE THE FILE OPENS");i.read(r,{success:function(e,t){var a=e.Content;var i="image/jpeg";var r="test.jpg";a="data:"+i+";base64,"+a;if(!s.displayContent){s.displayContent=sap.ui.xmlfragment("customeratt.zsd1.fragments.filepreview",s);s.getView().addDependent(s.displayContent)}var n="image";var o="jpg";switch(n){case"image":sap.ui.getCore().byId("idPdfViewer").setVisible(false);sap.ui.getCore().byId("image").setVisible(true);sap.ui.getCore().byId("image").setSrc(a);break;default:sap.ui.getCore().byId("idPdfViewer").setVisible(true);sap.ui.getCore().byId("image").setVisible(false);var d=sap.ui.getCore().byId("idPdfViewer");d.setContent('<iframe src="'+a+'" embedded="true" frameborder="0" target="_top" width="2000px" height="2000px"></iframe>');break}debugger;if(o!=="docx"&&o!=="pub"&&o!=="xls"&&o!=="ppt"&&o!=="doc"&&o!=="xlsx"){s.displayContent.open();s.fragOpen=true}if(s.fragOpen===undefined){window.open(a,"_self");a=a.replace("data:APPLICATION/WWI;base64,","")}},error:function(){sap.m.MessageToast.show("No Data retreived")}})}},onPressBarCloseBtn:function(e){this.displayContent.close();this.fragOpen=undefined},verifiedVATFile:function(e){debugger;var t=e.oSource.getText();var a=this;debugger;var s=a.getOwnerComponent().getModel();var i=this.getView().byId("idTemp").getValue();if(i!==""){switch(t){case"Reject":t="R";break;case"Approve":t="A";break;default:}var r={Zcustomer:i,Zstatus:t,ZdocumentType:"VAT"};s.create("/statusSet",r,{success:function(e){sap.m.MessageToast.show("Data Successfully updated!")},error:function(e){sap.m.MessageToast.show("Data updation failed!")}})}},verifiedCRFile:function(e){debugger;var t=e.oSource.getText();var a=this;debugger;var s=a.getOwnerComponent().getModel();var i=this.getView().byId("idTemp").getValue();if(i!==""){switch(t){case"Reject":t="R";break;case"Approve":t="A";break;default:}var r={Zcustomer:i,Zstatus:t,ZdocumentType:"CR"};s.create("/statusSet",r,{success:function(e){sap.m.MessageToast.show("Data Successfully updated!")},error:function(e){sap.m.MessageToast.show("Data updation failed!")}})}},verifiedIDFile:function(e){debugger;var t=e.oSource.getText();var a=this;debugger;var s=a.getOwnerComponent().getModel();var i=this.getView().byId("idTemp").getValue();if(i!==""){switch(t){case"Reject":t="R";break;case"Approve":t="A";break;default:}var r={Zcustomer:i,Zstatus:t,ZdocumentType:"ID"};s.create("/statusSet",r,{success:function(e){sap.m.MessageToast.show("Data Successfully updated!")},error:function(e){sap.m.MessageToast.show("Data updation failed!")}})}},verifiedSlFile:function(e){debugger;var t=e.oSource.getText();var a=this;debugger;var s=a.getOwnerComponent().getModel();var i=this.getView().byId("idTemp").getValue();if(i!==""){switch(t){case"Reject":t="R";break;case"Approve":t="A";break;default:}var r={Zcustomer:i,Zstatus:t,ZdocumentType:"LICENSE"};s.create("/statusSet",r,{success:function(e){sap.m.MessageToast.show("Data Successfully updated!")},error:function(e){sap.m.MessageToast.show("Data updation failed!")}})}},onSaveComments:function(e){debugger;var t=e.oSource.getText();var a=this;debugger;var s=a.getOwnerComponent().getModel();var i=this.getView().byId("idTemp").getValue();var r=this.getView().byId("idTextArea").getValue();if(i!==""){var n={Zcustomer:i,Zstatus:"C",Zcomments:r,ZdocumentType:"OTHERS"};s.create("/statusSet",n,{success:function(e){sap.m.MessageToast.show("Comments Successfully updated!")},error:function(e){sap.m.MessageToast.show("Comments updation failed!")}})}}})});